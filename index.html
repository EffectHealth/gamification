<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Physical Health Matching Game</title>
    <style>
        /* Reset Browser Defaults */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* Global Styles */
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: #f4f7fa;
            color: #333;
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Container */
        .game-container {
            background-color: #fff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            max-width: 900px;
            width: 100%;
        }

        /* Title and Instructions */
        .game-title {
            text-align: center;
            font-size: 2em;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .game-instructions {
            text-align: center;
            font-size: 1.1em;
            margin-bottom: 30px;
            color: #7f8c8d;
        }

        /* Game Area */
        .game-area {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        /* Columns */
        .column {
            flex: 1;
            min-width: 280px;
        }

        .column h3 {
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.5em;
            color: #16a085;
            border-bottom: 2px solid #16a085;
            display: inline-block;
            padding-bottom: 5px;
        }

        /* Draggable Items (Exercises) */
        .draggable-item {
            background-color: #2980b9;
            color: #fff;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            cursor: grab;
            user-select: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s ease, background-color 0.2s ease;
        }

        .draggable-item.dragging {
            opacity: 0.7;
            transform: scale(1.05);
            background-color: #1abc9c;
        }

        /* Droppable Items (Health Benefits) */
        .droppable-item {
            background-color: #ecf0f1;
            color: #2c3e50;
            padding: 20px;
            margin-bottom: 15px;
            border: 2px dashed #95a5a6;
            border-radius: 8px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .droppable-item.hovered {
            background-color: #dfe6e9;
            border-color: #3498db;
        }

        .droppable-item.correct {
            background-color: #2ecc71;
            border-color: #27ae60;
            color: #fff;
        }

        .droppable-item.incorrect {
            background-color: #e74c3c;
            border-color: #c0392b;
            color: #fff;
        }

        /* Action Buttons */
        .action-buttons {
            text-align: center;
            margin-top: 30px;
        }

        .action-buttons button {
            background-color: #2980b9;
            color: #fff;
            border: none;
            padding: 12px 25px;
            font-size: 1em;
            border-radius: 6px;
            cursor: pointer;
            margin: 0 10px;
            transition: background-color 0.3s ease;
        }

        .action-buttons button:hover {
            background-color: #1abc9c;
        }

        .action-buttons button.reset {
            background-color: #7f8c8d;
        }

        .action-buttons button.reset:hover {
            background-color: #95a5a6;
        }

        /* Result Message */
        .result-message {
            text-align: center;
            font-size: 1.3em;
            margin-top: 20px;
            font-weight: bold;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
            }

            .action-buttons button {
                width: 100%;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>

    <div class="game-container">
        <!-- Title -->
        <div class="game-title">Physical Health Matching Game</div>

        <!-- Instructions -->
        <div class="game-instructions">
            Drag each exercise from the left column and drop it onto the corresponding health benefit on the right.
        </div>

        <!-- Game Area -->
        <div class="game-area">
            <!-- Exercises Column -->
            <div class="column">
                <h3>Exercises</h3>
                <!-- Exercise items will be dynamically added here -->
            </div>

            <!-- Health Benefits Column -->
            <div class="column">
                <h3>Health Benefits</h3>
                <!-- Health benefit slots will be dynamically added here -->
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button id="check-answers-button">Check Answers</button>
            <button id="reset-button" class="reset">Reset Game</button>
        </div>

        <!-- Result Message -->
        <div class="result-message" id="result-message"></div>
    </div>

    <!-- Game Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Data for the game
            const exercises = [
                { name: 'Yoga', benefit: 'Improves Flexibility' },
                { name: 'Running', benefit: 'Enhances Cardiovascular Health' },
                { name: 'Weight Lifting', benefit: 'Increases Muscle Strength' },
                { name: 'Swimming', benefit: 'Provides Full-Body Workout' },
                { name: 'Cycling', benefit: 'Boosts Endurance' },
                { name: 'Pilates', benefit: 'Strengthens Core Muscles' },
                { name: 'Tai Chi', benefit: 'Enhances Balance and Coordination' },
                { name: 'HIIT', benefit: 'Burns Calories Efficiently' },
                { name: 'Walking', benefit: 'Promotes Joint Health' },
                { name: 'Stretching', benefit: 'Reduces Muscle Tension' }
            ];

            // Shuffle function to randomize the order
            function shuffle(array) {
                let currentIndex = array.length, temporaryValue, randomIndex;

                while (0 !== currentIndex) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;

                    temporaryValue = array[currentIndex];
                    array[currentIndex] = array[randomIndex];
                    array[randomIndex] = temporaryValue;
                }
                return array;
            }

            // Initialize the game
            function initGame() {
                const exercisesColumn = document.querySelector('.column:nth-child(1)');
                const benefitsColumn = document.querySelector('.column:nth-child(2)');
                const resultMessage = document.getElementById('result-message');

                // Clear previous content
                exercisesColumn.innerHTML = '<h3>Exercises</h3>';
                benefitsColumn.innerHTML = '<h3>Health Benefits</h3>';
                resultMessage.textContent = '';
                resultMessage.style.color = '#2ecc71';

                // Shuffle exercises and benefits
                const shuffledExercises = shuffle([...exercises]);
                const shuffledBenefits = shuffle([...exercises].map(ex => ex.benefit));

                // Create draggable exercise items
                shuffledExercises.forEach(exercise => {
                    const exerciseItem = document.createElement('div');
                    exerciseItem.classList.add('draggable-item');
                    exerciseItem.textContent = exercise.name;
                    exerciseItem.setAttribute('draggable', 'true');
                    exerciseItem.dataset.exercise = exercise.name;
                    exerciseItem.dataset.benefit = exercise.benefit;

                    // Drag Events
                    exerciseItem.addEventListener('dragstart', dragStart);
                    exerciseItem.addEventListener('dragend', dragEnd);

                    // Touch Events
                    exerciseItem.addEventListener('touchstart', touchStart, { passive: false });
                    exerciseItem.addEventListener('touchmove', touchMove, { passive: false });
                    exerciseItem.addEventListener('touchend', touchEnd);

                    exercisesColumn.appendChild(exerciseItem);
                });

                // Create droppable health benefit slots
                shuffledBenefits.forEach(benefit => {
                    const benefitSlot = document.createElement('div');
                    benefitSlot.classList.add('droppable-item');
                    benefitSlot.textContent = benefit;
                    benefitSlot.dataset.benefit = benefit;
                    benefitSlot.dataset.exercise = ''; // To store the placed exercise

                    // Drag Events
                    benefitSlot.addEventListener('dragover', dragOver);
                    benefitSlot.addEventListener('drop', drop);

                    // Touch Events
                    benefitSlot.addEventListener('touchstart', touchSlotStart, { passive: false });
                    benefitSlot.addEventListener('touchmove', touchSlotMove, { passive: false });
                    benefitSlot.addEventListener('touchend', touchSlotEnd);

                    benefitsColumn.appendChild(benefitSlot);
                });
            }

            // Drag and Drop Handlers for Mouse
            let draggedItem = null;

            function dragStart(event) {
                draggedItem = this;
                setTimeout(() => this.classList.add('dragging'), 0);
            }

            function dragEnd(event) {
                this.classList.remove('dragging');
                draggedItem = null;
            }

            function dragOver(event) {
                event.preventDefault();
                this.classList.add('hovered');
            }

            function drop(event) {
                event.preventDefault();
                this.classList.remove('hovered');

                if (draggedItem) {
                    // If slot already has an exercise, move it back to exercises column
                    const existingExercise = this.querySelector('.draggable-item');
                    if (existingExercise && existingExercise !== draggedItem) {
                        const exercisesColumn = document.querySelector('.column:nth-child(1)');
                        exercisesColumn.appendChild(existingExercise);
                    }

                    // Place the dragged exercise into the slot
                    this.appendChild(draggedItem);
                    this.dataset.exercise = draggedItem.dataset.exercise;
                }
            }

            // Touch Handlers
            let touchDraggedItem = null;
            let touchClone = null;
            let touchOffsetX = 0;
            let touchOffsetY = 0;

            function touchStart(event) {
                event.preventDefault();
                if (event.touches.length > 1) return; // Single touch only

                touchDraggedItem = this;
                touchDraggedItem.classList.add('dragging');

                const touch = event.touches[0];
                const rect = touchDraggedItem.getBoundingClientRect();

                touchOffsetX = touch.clientX - rect.left;
                touchOffsetY = touch.clientY - rect.top;

                // Create a clone to follow the finger
                touchClone = touchDraggedItem.cloneNode(true);
                touchClone.style.position = 'absolute';
                touchClone.style.left = `${rect.left}px`;
                touchClone.style.top = `${rect.top}px`;
                touchClone.style.width = `${rect.width}px`;
                touchClone.style.height = `${rect.height}px`;
                touchClone.style.pointerEvents = 'none';
                touchClone.style.opacity = '0.7';
                touchClone.style.zIndex = '1000';
                document.body.appendChild(touchClone);
            }

            function touchMove(event) {
                event.preventDefault();
                if (!touchClone) return;

                const touch = event.touches[0];
                const newX = touch.clientX - touchOffsetX;
                const newY = touch.clientY - touchOffsetY;

                touchClone.style.left = `${newX}px`;
                touchClone.style.top = `${newY}px`;
            }

            function touchEnd(event) {
                event.preventDefault();
                if (!touchDraggedItem || !touchClone) return;

                const touch = event.changedTouches[0];
                const elem = document.elementFromPoint(touch.clientX, touch.clientY);

                // Remove clone
                document.body.removeChild(touchClone);
                touchClone = null;

                if (elem && elem.classList.contains('droppable-item')) {
                    // If slot already has an exercise, move it back to exercises column
                    const existingExercise = elem.querySelector('.draggable-item');
                    if (existingExercise && existingExercise !== touchDraggedItem) {
                        const exercisesColumn = document.querySelector('.column:nth-child(1)');
                        exercisesColumn.appendChild(existingExercise);
                    }

                    // Place the dragged exercise into the slot
                    elem.appendChild(touchDraggedItem);
                    elem.dataset.exercise = touchDraggedItem.dataset.exercise;
                }

                touchDraggedItem.classList.remove('dragging');
                touchDraggedItem = null;
            }

            // Additional Touch Handlers for Slots (Optional)
            function touchSlotStart(event) {
                event.preventDefault();
                // Optional: Visual feedback when touching a slot
            }

            function touchSlotMove(event) {
                event.preventDefault();
                // Optional: Handle touch move on slots if needed
            }

            function touchSlotEnd(event) {
                event.preventDefault();
                // Optional: Handle touch end on slots if needed
            }

            // Check Answers
            function checkAnswers() {
                const benefitSlots = document.querySelectorAll('.droppable-item');
                let correctCount = 0;
                const total = benefitSlots.length;

                benefitSlots.forEach(slot => {
                    const placedExercise = slot.querySelector('.draggable-item');
                    if (placedExercise) {
                        const exerciseName = placedExercise.dataset.exercise;
                        const benefit = slot.dataset.benefit;
                        const isCorrect = exercises.some(ex => ex.name === exerciseName && ex.benefit === benefit);

                        if (isCorrect) {
                            slot.classList.add('correct');
                            correctCount++;
                        } else {
                            slot.classList.add('incorrect');
                        }
                    }
                });

                const resultMessage = document.getElementById('result-message');
                if (correctCount === total) {
                    resultMessage.textContent = 'Excellent! You matched all exercises correctly.';
                } else {
                    resultMessage.textContent = `You matched ${correctCount} out of ${total} correctly.`;
                    resultMessage.style.color = '#e74c3c';
                }

                // Disable further interaction
                const draggableItems = document.querySelectorAll('.draggable-item');
                draggableItems.forEach(item => {
                    item.draggable = false;
                    item.removeEventListener('touchstart', touchStart);
                    item.removeEventListener('touchmove', touchMove);
                    item.removeEventListener('touchend', touchEnd);
                });
                document.getElementById('check-answers-button').disabled = true;
            }

            // Reset Game
            function resetGame() {
                const benefitSlots = document.querySelectorAll('.droppable-item');
                benefitSlots.forEach(slot => {
                    const placedExercise = slot.querySelector('.draggable-item');
                    if (placedExercise) {
                        const exercisesColumn = document.querySelector('.column:nth-child(1)');
                        exercisesColumn.appendChild(placedExercise);
                        slot.dataset.exercise = '';
                        slot.classList.remove('correct', 'incorrect');
                    }
                });

                const resultMessage = document.getElementById('result-message');
                resultMessage.textContent = '';
                resultMessage.style.color = '#2ecc71';

                const draggableItems = document.querySelectorAll('.draggable-item');
                draggableItems.forEach(item => {
                    item.draggable = true;
                    item.addEventListener('touchstart', touchStart, { passive: false });
                    item.addEventListener('touchmove', touchMove, { passive: false });
                    item.addEventListener('touchend', touchEnd);
                });

                document.getElementById('check-answers-button').disabled = false;
            }

            // Initialize the game on page load
            initGame();

            // Attach Event Listeners to Buttons
            document.getElementById('check-answers-button').addEventListener('click', checkAnswers);
            document.getElementById('reset-button').addEventListener('click', resetGame);
        });
    </script>

</body>
</html>
